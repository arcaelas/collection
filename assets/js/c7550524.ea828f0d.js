"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1620],{6459:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>s,contentTitle:()=>r,default:()=>p,frontMatter:()=>l,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"api/transformacion-mapeo","title":"Transformaci\xf3n y mapeo","description":"Esta secci\xf3n documenta los m\xe9todos de Arcaelas Collection para transformar y mapear elementos.","source":"@site/docs/api/transformacion-mapeo.md","sourceDirName":"api","slug":"/api/transformacion-mapeo","permalink":"/docs/api/transformacion-mapeo","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"docsSidebar","previous":{"title":"Filtrado y b\xfasqueda","permalink":"/docs/api/filtrado-busqueda"},"next":{"title":"Agrupaci\xf3n y conteo","permalink":"/docs/api/agrupacion-conteo"}}');var i=o(4848),c=o(8453);const l={sidebar_position:3},r="Transformaci\xf3n y mapeo",s={},d=[{value:"map",id:"map",level:2},{value:"Firma",id:"firma",level:3},{value:"Ejemplo",id:"ejemplo",level:3},{value:"Diferencias con Array.map",id:"diferencias-con-arraymap",level:3},{value:"each",id:"each",level:2},{value:"Firma",id:"firma-1",level:3},{value:"Ejemplo",id:"ejemplo-1",level:3},{value:"macro",id:"macro",level:2},{value:"Firma",id:"firma-2",level:3},{value:"Ejemplo",id:"ejemplo-2",level:3},{value:"chunk",id:"chunk",level:2},{value:"Firma",id:"firma-3",level:3},{value:"Ejemplo",id:"ejemplo-3",level:3},{value:"dump",id:"dump",level:2},{value:"Firma",id:"firma-4",level:3},{value:"Ejemplo",id:"ejemplo-4",level:3},{value:"tap",id:"tap",level:2},{value:"Firma",id:"firma-5",level:3},{value:"Ejemplo",id:"ejemplo-5",level:3},{value:"pipe",id:"pipe",level:2},{value:"Firma",id:"firma-6",level:3},{value:"Ejemplo",id:"ejemplo-6",level:3}];function t(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,c.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"transformaci\xf3n-y-mapeo",children:"Transformaci\xf3n y mapeo"})}),"\n",(0,i.jsx)(n.p,{children:"Esta secci\xf3n documenta los m\xe9todos de Arcaelas Collection para transformar y mapear elementos."}),"\n",(0,i.jsx)(n.h2,{id:"map",children:"map"}),"\n",(0,i.jsx)(n.p,{children:"Crea una nueva colecci\xf3n con los resultados de aplicar una funci\xf3n a cada elemento."}),"\n",(0,i.jsx)(n.h3,{id:"firma",children:"Firma"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"map<U>(callback: (value: T, index: number, array: T[]) => U): Collection<U>\n"})}),"\n",(0,i.jsx)(n.h3,{id:"ejemplo",children:"Ejemplo"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const usuarios = new Collection([\n  { id: 1, nombre: 'Ana', apellido: 'Garc\xeda' },\n  { id: 2, nombre: 'Carlos', apellido: 'Rodr\xedguez' },\n  { id: 3, nombre: 'Elena', apellido: 'L\xf3pez' }\n]);\n\nconst nombresCompletos = usuarios.map(u => ({\n  id: u.id,\n  nombreCompleto: `${u.nombre} ${u.apellido}`\n}));\n\nconsole.log(nombresCompletos[0]); // { id: 1, nombreCompleto: 'Ana Garc\xeda' }\n"})}),"\n",(0,i.jsx)(n.h3,{id:"diferencias-con-arraymap",children:"Diferencias con Array.map"}),"\n",(0,i.jsxs)(n.p,{children:["A diferencia del m\xe9todo ",(0,i.jsx)(n.code,{children:"map"})," nativo de Array, el m\xe9todo ",(0,i.jsx)(n.code,{children:"map"})," de Collection:"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Devuelve una instancia de ",(0,i.jsx)(n.code,{children:"Collection"})," en lugar de un ",(0,i.jsx)(n.code,{children:"Array"})]}),"\n",(0,i.jsx)(n.li,{children:"Mantiene la cadena de m\xe9todos fluida"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"each",children:"each"}),"\n",(0,i.jsx)(n.p,{children:"Ejecuta una funci\xf3n para cada elemento sin modificar la colecci\xf3n."}),"\n",(0,i.jsx)(n.h3,{id:"firma-1",children:"Firma"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"each(callback: (value: T, index: number, array: T[]) => void): this\n"})}),"\n",(0,i.jsx)(n.h3,{id:"ejemplo-1",children:"Ejemplo"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const productos = new Collection([\n  { id: 1, nombre: 'Mouse', precio: 20 },\n  { id: 2, nombre: 'Teclado', precio: 50 },\n  { id: 3, nombre: 'Monitor', precio: 200 }\n]);\n\n// Ejecutar una acci\xf3n para cada elemento\nproductos.each(p => {\n  console.log(`Producto: ${p.nombre}, Precio: $${p.precio}`);\n});\n\n// Encadenamiento (a diferencia de forEach)\nproductos\n  .each(p => console.log(`ID: ${p.id}`))\n  .filter(p => p.precio < 100)\n  .each(p => console.log(`Producto econ\xf3mico: ${p.nombre}`));\n"})}),"\n",(0,i.jsx)(n.h2,{id:"macro",children:"macro"}),"\n",(0,i.jsx)(n.p,{children:"Extiende la funcionalidad de Collection a\xf1adiendo un m\xe9todo personalizado."}),"\n",(0,i.jsx)(n.h3,{id:"firma-2",children:"Firma"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"macro<K extends string, A extends any[], R>(\n  name: K, \n  callback: (this: Collection<T>, ...args: A) => R\n): void\n"})}),"\n",(0,i.jsx)(n.h3,{id:"ejemplo-2",children:"Ejemplo"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// Extender Collection con un m\xe9todo personalizado\nCollection.macro('preciosConIVA', function(porcentajeIVA = 21) {\n  return this.map(item => {\n    if (typeof item === 'object' && item !== null && 'precio' in item) {\n      const precio = item.precio as number;\n      return {\n        ...item,\n        precioConIVA: precio + (precio * porcentajeIVA / 100)\n      };\n    }\n    return item;\n  });\n});\n\n// Usar el m\xe9todo personalizado\nconst productos = new Collection([\n  { id: 1, nombre: 'Mouse', precio: 20 },\n  { id: 2, nombre: 'Teclado', precio: 50 }\n]);\n\n// Nota: TypeScript necesitar\xe1 una declaraci\xf3n de tipos para reconocer este m\xe9todo\nconst productosConIVA = productos.preciosConIVA(16);\nconsole.log(productosConIVA[0]); // { id: 1, nombre: 'Mouse', precio: 20, precioConIVA: 23.2 }\n"})}),"\n",(0,i.jsxs)(n.admonition,{title:"Declaraci\xf3n de tipos para macros",type:"tip",children:[(0,i.jsx)(n.p,{children:"Para usar macros con TypeScript, debes extender la interfaz de Collection:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"declare module '@arcaelas/collection' {\n  interface Collection<T> {\n    preciosConIVA(porcentajeIVA?: number): Collection<T & { precioConIVA: number }>;\n  }\n}\n"})})]}),"\n",(0,i.jsx)(n.h2,{id:"chunk",children:"chunk"}),"\n",(0,i.jsx)(n.p,{children:"Divide la colecci\xf3n en m\xfaltiples colecciones de tama\xf1o espec\xedfico."}),"\n",(0,i.jsx)(n.h3,{id:"firma-3",children:"Firma"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"chunk(size: number): Collection<Collection<T>>\n"})}),"\n",(0,i.jsx)(n.h3,{id:"ejemplo-3",children:"Ejemplo"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const numeros = new Collection([1, 2, 3, 4, 5, 6, 7, 8]);\n\nconst grupos = numeros.chunk(3);\nconsole.log(grupos.length); // 3\nconsole.log(grupos[0]); // Collection [1, 2, 3]\nconsole.log(grupos[1]); // Collection [4, 5, 6]\nconsole.log(grupos[2]); // Collection [7, 8]\n"})}),"\n",(0,i.jsx)(n.h2,{id:"dump",children:"dump"}),"\n",(0,i.jsx)(n.p,{children:"Convierte la colecci\xf3n a una representaci\xf3n de string para depuraci\xf3n."}),"\n",(0,i.jsx)(n.h3,{id:"firma-4",children:"Firma"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"dump(): this\n"})}),"\n",(0,i.jsx)(n.h3,{id:"ejemplo-4",children:"Ejemplo"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'const usuarios = new Collection([\n  { id: 1, nombre: \'Ana\' },\n  { id: 2, nombre: \'Carlos\' }\n]);\n\n// Muestra la representaci\xf3n en consola y devuelve la misma colecci\xf3n\nusuarios.dump().filter(u => u.id > 1).dump();\n\n// Salida en consola:\n// [{"id":1,"nombre":"Ana"},{"id":2,"nombre":"Carlos"}]\n// [{"id":2,"nombre":"Carlos"}]\n'})}),"\n",(0,i.jsx)(n.h2,{id:"tap",children:"tap"}),"\n",(0,i.jsx)(n.p,{children:"Ejecuta una funci\xf3n con la colecci\xf3n como argumento y devuelve la colecci\xf3n original."}),"\n",(0,i.jsx)(n.h3,{id:"firma-5",children:"Firma"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"tap(callback: (collection: this) => void): this\n"})}),"\n",(0,i.jsx)(n.h3,{id:"ejemplo-5",children:"Ejemplo"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const productos = new Collection([\n  { id: 1, nombre: 'Mouse', precio: 20 },\n  { id: 2, nombre: 'Teclado', precio: 50 },\n  { id: 3, nombre: 'Monitor', precio: 200 }\n]);\n\n// Realizar operaciones intermedias sin afectar la cadena\nconst resultado = productos\n  .where('precio', '<', 100)\n  .tap(seleccion => {\n    console.log(`Productos seleccionados: ${seleccion.length}`);\n    // Realizar otras operaciones con la selecci\xf3n\n  })\n  .map(p => p.nombre);\n\nconsole.log(resultado); // Collection ['Mouse', 'Teclado']\n"})}),"\n",(0,i.jsx)(n.h2,{id:"pipe",children:"pipe"}),"\n",(0,i.jsx)(n.p,{children:"Pasa la colecci\xf3n a trav\xe9s de una funci\xf3n de transformaci\xf3n."}),"\n",(0,i.jsx)(n.h3,{id:"firma-6",children:"Firma"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"pipe<U>(callback: (collection: this) => U): U\n"})}),"\n",(0,i.jsx)(n.h3,{id:"ejemplo-6",children:"Ejemplo"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const usuarios = new Collection([\n  { id: 1, nombre: 'Ana', activo: true },\n  { id: 2, nombre: 'Carlos', activo: false },\n  { id: 3, nombre: 'Elena', activo: true }\n]);\n\n// Transformar la colecci\xf3n con l\xf3gica personalizada\nconst resultado = usuarios.pipe(coleccion => {\n  const activos = coleccion.filter(u => u.activo);\n  const inactivos = coleccion.filter(u => !u.activo);\n  \n  return {\n    totalUsuarios: coleccion.length,\n    activos: activos.length,\n    inactivos: inactivos.length,\n    porcentajeActivos: (activos.length / coleccion.length) * 100\n  };\n});\n\nconsole.log(resultado);\n// {\n//   totalUsuarios: 3,\n//   activos: 2,\n//   inactivos: 1,\n//   porcentajeActivos: 66.66666666666666\n// }\n"})})]})}function p(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>l,x:()=>r});var a=o(6540);const i={},c=a.createContext(i);function l(e){const n=a.useContext(c);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),a.createElement(c.Provider,{value:n},e.children)}}}]);