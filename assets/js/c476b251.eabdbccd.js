"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2803],{5186:(o,e,n)=>{n.r(e),n.d(e,{assets:()=>s,contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>r,toc:()=>t});const r=JSON.parse('{"id":"api/agrupacion-conteo","title":"Agrupaci\xf3n y conteo","description":"Esta secci\xf3n documenta los m\xe9todos de Arcaelas Collection para agrupar y contar elementos.","source":"@site/docs/api/agrupacion-conteo.md","sourceDirName":"api","slug":"/api/agrupacion-conteo","permalink":"/collection/docs/api/agrupacion-conteo","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"docsSidebar","previous":{"title":"Transformaci\xf3n y mapeo","permalink":"/collection/docs/api/transformacion-mapeo"},"next":{"title":"Manipulaci\xf3n de elementos","permalink":"/collection/docs/api/manipulacion-elementos"}}');var c=n(4848),a=n(8453);const i={sidebar_position:4},l="Agrupaci\xf3n y conteo",s={},t=[{value:"groupBy",id:"groupby",level:2},{value:"Firmas",id:"firmas",level:3},{value:"Ejemplos",id:"ejemplos",level:3},{value:"countBy",id:"countby",level:2},{value:"Firmas",id:"firmas-1",level:3},{value:"Ejemplos",id:"ejemplos-1",level:3},{value:"keyBy",id:"keyby",level:2},{value:"Firmas",id:"firmas-2",level:3},{value:"Ejemplos",id:"ejemplos-2",level:3},{value:"partition",id:"partition",level:2},{value:"Firma",id:"firma",level:3},{value:"Ejemplo",id:"ejemplo",level:3},{value:"reduce",id:"reduce",level:2},{value:"Firma",id:"firma-1",level:3},{value:"Ejemplos",id:"ejemplos-3",level:3}];function p(o){const e={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,a.R)(),...o.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(e.header,{children:(0,c.jsx)(e.h1,{id:"agrupaci\xf3n-y-conteo",children:"Agrupaci\xf3n y conteo"})}),"\n",(0,c.jsx)(e.p,{children:"Esta secci\xf3n documenta los m\xe9todos de Arcaelas Collection para agrupar y contar elementos."}),"\n",(0,c.jsx)(e.h2,{id:"groupby",children:"groupBy"}),"\n",(0,c.jsx)(e.p,{children:"Agrupa los elementos de la colecci\xf3n seg\xfan una clave o funci\xf3n."}),"\n",(0,c.jsx)(e.h3,{id:"firmas",children:"Firmas"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-ts",children:"// Con clave\ngroupBy<K extends string>(key: K): Record<string, Collection<T>>\n\n// Con funci\xf3n callback\ngroupBy<K extends string>(callback: (item: T, index: number) => K): Record<string, Collection<T>>\n"})}),"\n",(0,c.jsx)(e.h3,{id:"ejemplos",children:"Ejemplos"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-ts",children:"const productos = new Collection([\n  { id: 1, nombre: 'Mouse', categor\xeda: 'perif\xe9ricos', precio: 20 },\n  { id: 2, nombre: 'Teclado', categor\xeda: 'perif\xe9ricos', precio: 50 },\n  { id: 3, nombre: 'Monitor', categor\xeda: 'pantallas', precio: 200 },\n  { id: 4, nombre: 'Auriculares', categor\xeda: 'audio', precio: 80 }\n]);\n\n// Agrupar por clave\nconst porCategor\xeda = productos.groupBy('categor\xeda');\nconsole.log(Object.keys(porCategor\xeda)); // ['perif\xe9ricos', 'pantallas', 'audio']\nconsole.log(porCategor\xeda.perif\xe9ricos.length); // 2\nconsole.log(porCategor\xeda.pantallas[0].nombre); // 'Monitor'\n\n// Agrupar por funci\xf3n callback\nconst porRangoPrecio = productos.groupBy(p => {\n  if (p.precio < 50) return 'econ\xf3mico';\n  if (p.precio < 100) return 'medio';\n  return 'premium';\n});\n\nconsole.log(Object.keys(porRangoPrecio)); // ['econ\xf3mico', 'medio', 'premium']\nconsole.log(porRangoPrecio.econ\xf3mico.length); // 1\nconsole.log(porRangoPrecio.premium[0].nombre); // 'Monitor'\n"})}),"\n",(0,c.jsx)(e.h2,{id:"countby",children:"countBy"}),"\n",(0,c.jsx)(e.p,{children:"Cuenta los elementos de la colecci\xf3n seg\xfan una clave o funci\xf3n."}),"\n",(0,c.jsx)(e.h3,{id:"firmas-1",children:"Firmas"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-ts",children:"// Con clave\ncountBy<K extends string>(key: K): Record<string, number>\n\n// Con funci\xf3n callback\ncountBy<K extends string>(callback: (item: T, index: number) => K): Record<string, number>\n"})}),"\n",(0,c.jsx)(e.h3,{id:"ejemplos-1",children:"Ejemplos"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-ts",children:"const productos = new Collection([\n  { id: 1, nombre: 'Mouse', categor\xeda: 'perif\xe9ricos', stock: true },\n  { id: 2, nombre: 'Teclado', categor\xeda: 'perif\xe9ricos', stock: false },\n  { id: 3, nombre: 'Monitor', categor\xeda: 'pantallas', stock: true },\n  { id: 4, nombre: 'Auriculares', categor\xeda: 'audio', stock: true }\n]);\n\n// Contar por clave\nconst conteoCategoria = productos.countBy('categor\xeda');\nconsole.log(conteoCategoria);\n// { perif\xe9ricos: 2, pantallas: 1, audio: 1 }\n\n// Contar por funci\xf3n callback\nconst conteoStock = productos.countBy(p => p.stock ? 'disponible' : 'agotado');\nconsole.log(conteoStock);\n// { disponible: 3, agotado: 1 }\n\n// Ejemplo con valores booleanos\nconst usuarios = new Collection([\n  { id: 1, nombre: 'Ana', activo: true },\n  { id: 2, nombre: 'Carlos', activo: false },\n  { id: 3, nombre: 'Elena', activo: true }\n]);\n\nconst conteoEstado = usuarios.countBy('activo');\nconsole.log(conteoEstado);\n// { true: 2, false: 1 }\n"})}),"\n",(0,c.jsx)(e.h2,{id:"keyby",children:"keyBy"}),"\n",(0,c.jsx)(e.p,{children:"Crea un objeto indexado por una clave o funci\xf3n."}),"\n",(0,c.jsx)(e.h3,{id:"firmas-2",children:"Firmas"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-ts",children:"// Con clave\nkeyBy<K extends string>(key: K): Record<string, T>\n\n// Con funci\xf3n callback\nkeyBy<K extends string>(callback: (item: T, index: number) => K): Record<string, T>\n"})}),"\n",(0,c.jsx)(e.h3,{id:"ejemplos-2",children:"Ejemplos"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-ts",children:"const usuarios = new Collection([\n  { id: 'usr_1', nombre: 'Ana', email: 'ana@ejemplo.com' },\n  { id: 'usr_2', nombre: 'Carlos', email: 'carlos@ejemplo.com' },\n  { id: 'usr_3', nombre: 'Elena', email: 'elena@ejemplo.com' }\n]);\n\n// Indexar por clave\nconst porId = usuarios.keyBy('id');\nconsole.log(porId.usr_1.nombre); // 'Ana'\nconsole.log(porId.usr_2.email); // 'carlos@ejemplo.com'\n\n// Indexar por funci\xf3n callback\nconst porEmail = usuarios.keyBy(u => u.email);\nconsole.log(porEmail['ana@ejemplo.com'].id); // 'usr_1'\n\n// Ejemplo con transformaci\xf3n\nconst porNombreCorto = usuarios.keyBy(u => u.nombre.toLowerCase().substring(0, 3));\nconsole.log(porNombreCorto);\n// {\n//   ana: { id: 'usr_1', nombre: 'Ana', email: 'ana@ejemplo.com' },\n//   car: { id: 'usr_2', nombre: 'Carlos', email: 'carlos@ejemplo.com' },\n//   ele: { id: 'usr_3', nombre: 'Elena', email: 'elena@ejemplo.com' }\n// }\n"})}),"\n",(0,c.jsx)(e.admonition,{title:"Claves duplicadas",type:"caution",children:(0,c.jsx)(e.p,{children:"Si hay claves duplicadas, los elementos posteriores sobrescribir\xe1n a los anteriores. Aseg\xfarate de usar claves \xfanicas."})}),"\n",(0,c.jsx)(e.h2,{id:"partition",children:"partition"}),"\n",(0,c.jsx)(e.p,{children:"Divide la colecci\xf3n en dos colecciones seg\xfan una condici\xf3n."}),"\n",(0,c.jsx)(e.h3,{id:"firma",children:"Firma"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-ts",children:"partition(callback: (item: T, index: number) => boolean): [Collection<T>, Collection<T>]\n"})}),"\n",(0,c.jsx)(e.h3,{id:"ejemplo",children:"Ejemplo"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-ts",children:"const productos = new Collection([\n  { id: 1, nombre: 'Mouse', precio: 20, stock: 10 },\n  { id: 2, nombre: 'Teclado', precio: 50, stock: 0 },\n  { id: 3, nombre: 'Monitor', precio: 200, stock: 5 },\n  { id: 4, nombre: 'Auriculares', precio: 80, stock: 0 }\n]);\n\n// Dividir en productos con y sin stock\nconst [conStock, sinStock] = productos.partition(p => p.stock > 0);\n\nconsole.log(conStock.length); // 2\nconsole.log(conStock.map(p => p.nombre)); // ['Mouse', 'Monitor']\n\nconsole.log(sinStock.length); // 2\nconsole.log(sinStock.map(p => p.nombre)); // ['Teclado', 'Auriculares']\n\n// Ejemplo con precios\nconst [baratos, caros] = productos.partition(p => p.precio < 100);\n\nconsole.log(baratos.length); // 3\nconsole.log(caros.length); // 1\nconsole.log(caros[0].nombre); // 'Monitor'\n"})}),"\n",(0,c.jsx)(e.h2,{id:"reduce",children:"reduce"}),"\n",(0,c.jsx)(e.p,{children:"Reduce la colecci\xf3n a un \xfanico valor aplicando una funci\xf3n acumuladora."}),"\n",(0,c.jsx)(e.h3,{id:"firma-1",children:"Firma"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-ts",children:"reduce<U>(callback: (carry: U, item: T, index: number) => U, initial: U): U\n"})}),"\n",(0,c.jsx)(e.h3,{id:"ejemplos-3",children:"Ejemplos"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-ts",children:"const productos = new Collection([\n  { id: 1, nombre: 'Mouse', precio: 20 },\n  { id: 2, nombre: 'Teclado', precio: 50 },\n  { id: 3, nombre: 'Monitor', precio: 200 }\n]);\n\n// Calcular el precio total\nconst precioTotal = productos.reduce((total, p) => total + p.precio, 0);\nconsole.log(precioTotal); // 270\n\n// Crear un objeto con nombres como claves\nconst porNombre = productos.reduce((obj, p) => {\n  obj[p.nombre] = p;\n  return obj;\n}, {} as Record<string, typeof productos[0]>);\n\nconsole.log(porNombre.Teclado.precio); // 50\n\n// Ejemplo m\xe1s complejo: agrupar por rango de precios\nconst porRango = productos.reduce((grupos, p) => {\n  const rango = p.precio < 50 ? 'econ\xf3mico' : p.precio < 100 ? 'medio' : 'premium';\n  \n  if (!grupos[rango]) {\n    grupos[rango] = new Collection<typeof p>();\n  }\n  \n  grupos[rango].push(p);\n  return grupos;\n}, {} as Record<string, Collection<typeof productos[0]>>);\n\nconsole.log(porRango.econ\xf3mico.length); // 1\nconsole.log(porRango.premium.length); // 1\n"})})]})}function d(o={}){const{wrapper:e}={...(0,a.R)(),...o.components};return e?(0,c.jsx)(e,{...o,children:(0,c.jsx)(p,{...o})}):p(o)}},8453:(o,e,n)=>{n.d(e,{R:()=>i,x:()=>l});var r=n(6540);const c={},a=r.createContext(c);function i(o){const e=r.useContext(a);return r.useMemo(function(){return"function"==typeof o?o(e):{...e,...o}},[e,o])}function l(o){let e;return e=o.disableParentContext?"function"==typeof o.components?o.components(c):o.components||c:i(o.components),r.createElement(a.Provider,{value:e},o.children)}}}]);